# 查询集群实例

根据集群ID，调用DescribeClusterDetail查看集群的详细信息。

## 调试

[您可以在OpenAPI Explorer中直接运行该接口，免去您计算签名的困扰。运行成功后，OpenAPI Explorer可以自动生成SDK代码示例。](https://api.aliyun.com/#product=CS&api=DescribeClusterDetail&type=ROA&version=2015-12-15)

## 请求头

该接口使用公共请求头，无特殊请求头。更多信息，请参见[公共请求参数](~~167755~~)。

## 请求语法

```
GET /clusters/{ClusterId} 
```

## 请求参数

|名称|类型|位置|是否必选|示例值|描述|
|--|--|--|----|---|--|
|ClusterId|String|Path|是|cdde1f21ae22e483ebcb068a6eb7f\*\*\*\*|集群ID。 |

## 返回数据

|名称|类型|示例值|描述|
|--|--|---|--|
|cluster\_id|String|c82e6987e2961451182edacd74faf\*\*\*\*|集群ID。 |
|cluster\_type|String|Kubernetes|集群类型，取值：

 -   `Kubernetes`: 专有版集群。
-   `ManagedKubernetes`：托管版集群。
-   `Ask`：Serverless集群。
-   `ExternalKubernetes`：注册集群。 |
|created|String|2019-11-25T15:50:20+08:00|集群创建时间。 |
|init\_version|String|1.16.6-aliyun.1|集群初始化版本。 |
|current\_version|String|1.16.6-aliyun.1|集群当前版本。ACK支持的Kubernetes版本，请参见[Kubernetes版本发布概览](~~185269~~)。 |
|next\_version|String|1.18.8-aliyun.1|集群可升级版本。 |
|deletion\_protection|Boolean|true|集群删除保护，防止通过控制台或API误删除集群。取值：

 -   `true`：启用集群删除保护，将不能通过控制台或API删除集群。
-   `false`：不启用集群删除保护，则能通过控制台或API删除集群。 |
|docker\_version|String|19.03.5|集群中的Docker版本。 |
|external\_loadbalancer\_id|String|lb-2ze3buguz3gx9920z\*\*\*\*|集群Ingress SLB实例ID。 |
|meta\_data|String|\\"Addons\\":\*\*\*|集群元数据信息。 |
|name|String|cluster-demo|集群名称。

 命名规则：由数字、汉字、英文字符或短划线（-）组成，长度范围1~63个字符，且不能以短划线（-）开头。 |
|network\_mode|String|vpc|集群网络模式，取值：

 -   `classic`：经典网络。
-   `vpc`：专有网络。
-   `overlay`：叠加网络。
-   `calico`：Calico网络。

 默认值：`vpc`。 |
|region\_id|String|cn-beijing|集群所在地域ID。 |
|resource\_group\_id|String|rg-acfmyvw3wjm\*\*\*\*|集群资源组ID。 |
|security\_group\_id|String|sg-25yq\*\*\*\*|集群安全组ID。 |
|size|Long|5|集群节点数，包含Master节点及Worker节点。 |
|state|String|running|集群运行状态，取值：

 -   `initial`：集群创建中。
-   `failed`：集群创建失败。
-   `running`：集群运行中。
-   `updating`：集群升级中。
-   `updating_failed`：集群升级失败。
-   `scaling`：集群伸缩中。
-   `stopped`：集群已经停止运行。
-   `deleting`：集群删除中。
-   `deleted`：集群已经被删除。
-   `delete_failed`：集群删除失败。 |
|tags|Array of [tag](/intl.zh-CN/API参考/通用数据结构.md)| |集群资源标签。 |
|updated|String|2020-01-13T23:01:03+08:00|集群更新时间。 |
|vpc\_id|String|vpc-2zecuu62b9zw7a7qn\*\*\*\*|集群专有网络ID，创建集群时的必填参数。 |
|vswitch\_id|String|vsw-2zete8s4qocqg0mf6\*\*\*\*,vsw-2zete8s4qocqg0mf6\*\*\*\*|虚拟交换机ID，创建集群时可选择1~3个虚拟交换机。为保证集群高可用，建议选择不同可用区的虚拟交换机。 |
|subnet\_cidr|String|172.20.0.0/16|Pod网络地址段，必须是有效的私有网段，即以下网段及其子网：

 -   10.0.0.0/8
-   172.16-31.0.0/12-16
-   192.168.0.0/16

 不能与VPC及VPC内已有Kubernetes集群使用的网段重复，创建成功后不能被修改。

 关于集群网络规划，请参见[VPC下Kubernetes的网络地址段规划](~~6500~~)。 |
|zone\_id|String|cn-beijing-a|集群所在可用区ID。 |
|master\_url|String|\{\\"intranet\_api\_server\_endpoint\\":\\"https://192.168.0.251:6443\\"\*\*\*\}|集群访问地址，包含内网访问地址及公网访问地址。 |
|private\_zone|Boolean|false|集群Private Zone配置。

 -   `true`：启用Private Zone。
-   `false`：不启用Private Zone。 |
|profile|String|Default|面向场景时的集群类型：

 -   `Default`：非边缘场景集群。
-   `Edge`：边缘场景集群。 |
|cluster\_spec|String|ack.pro.small|托管版集群类型，面向托管集群：

 -   `ack.pro.small`：专业托管集群。
-   `ack.standard` ：标准托管集群。 |
|worker\_ram\_role\_name|String|KubernetesWorkerRole-ec87d15b-edca-4302-933f-c8a16bf0\*\*\*\*|Worker RAM角色名称，授权ECS实例为集群Woker节点。 |
|maintenance\_window|[maintenance\_window](/intl.zh-CN/API参考/通用数据结构.md)| |集群维护窗口配置，只在专业托管版本（即：ACK Pro版集群）中生效。 |

## 示例

请求示例

```
GET /clusters/cdde1f21ae22e483ebcb068a6eb7f****
```

正常返回示例

`XML` 格式

```
<name>cluster-demon</name>
<cluster_id>c905d1364c2dd4b6284a3f41790c4****</cluster_id>
<size>5</size>
<region_id>cn-beijing</region_id>
<state>running</state>
<cluster_type>ManagedKubernetes</cluster_type>
<created>2020-12-01T20:40:40+08:00</created>
<updated>2020-12-11T14:48:48+08:00</updated>
<init_version>1.18.8-aliyun.1</init_version>
<current_version>1.18.8-aliyun.1</current_version>
<next_version/>
<meta_data>{"api_server_endpoint":"","intranet_api_server_endpoint":"https://192.168.0.251:6443"}</meta_data>
<resource_group_id>rg-acfmyvw3wjm****</resource_group_id>
<vpc_id>vpc-2zeg8nf1ukc0fcmvq****</vpc_id>
<vswitch_id>vsw-2ze0fmpbwo140ahni****</vswitch_id>
<vswitch_cidr/>
<data_disk_size>0</data_disk_size>
<data_disk_category>cloud</data_disk_category>
<security_group_id>sg-2zeihch86ooz9io4****</security_group_id>
<tags>
    <key>ack.aliyun.com</key>
    <value>c905d1364c2dd4b6284a3f41790c4****</value>
</tags>
<zone_id>cn-beijing-a</zone_id>
<network_mode>vpc</network_mode>
<subnet_cidr>172.20.0.0/16</subnet_cidr>
<master_url>{"api_server_endpoint":"","intranet_api_server_endpoint":"https://192.168.0.251:6443"}</master_url>
<external_loadbalancer_id>lb-2zehc05z3b8dwiifh****</external_loadbalancer_id>
<docker_version>19.03.5</docker_version>
<private_zone>false</private_zone>
<profile>Default</profile>
<deletion_protection>false</deletion_protection>
<cluster_spec>ack.pro.small</cluster_spec>
<maintenance_window>
    <enable>false</enable>
    <maintenance_time/>
    <duration/>
    <weekly_period/>
</maintenance_window>
<worker_ram_role_name>KubernetesWorkerRole-4a4fa089-80c1-48a5-b3c6-934931******</worker_ram_role_name>
```

`JSON` 格式

```
{
  "name": "cluster-demon",
  "cluster_id": "c905d1364c2dd4b6284a3f41790c4****",
  "size": 5,
  "region_id": "cn-beijing",
  "state": "running",
  "cluster_type": "ManagedKubernetes",
  "created": "2020-12-01T20:40:40+08:00",
  "updated": "2020-12-11T14:48:48+08:00",
  "init_version": "1.18.8-aliyun.1",
  "current_version": "1.18.8-aliyun.1",
  "next_version": "",
  "meta_data": "{\"api_server_endpoint\":\"\",\"intranet_api_server_endpoint\":\"https://192.168.0.251:6443\"}",
  "resource_group_id": "rg-acfmyvw3wjm****",
  "vpc_id": "vpc-2zeg8nf1ukc0fcmvq****",
  "vswitch_id": "vsw-2ze0fmpbwo140ahni****",
  "vswitch_cidr": "",
  "data_disk_size": 0,
  "data_disk_category": "cloud",
  "security_group_id": "sg-2zeihch86ooz9io4****",
  "tags": [
    {
      "key": "ack.aliyun.com",
      "value": "c905d1364c2dd4b6284a3f41790c4****"
    }
  ],
  "zone_id": "cn-beijing-a",
  "network_mode": "vpc",
  "subnet_cidr": "172.20.0.0/16",
  "master_url": "{\"api_server_endpoint\":\"\",\"intranet_api_server_endpoint\":\"https://192.168.0.251:6443\"}",
  "external_loadbalancer_id": "lb-2zehc05z3b8dwiifh****",
  "docker_version": "19.03.5",
  "private_zone": false,
  "profile": "Default",
  "deletion_protection": false,
  "cluster_spec": "ack.pro.small",
  "maintenance_window": {
    "enable": false,
    "maintenance_time": "",
    "duration": "",
    "weekly_period": ""
  },
  "worker_ram_role_name": "KubernetesWorkerRole-4a4fa089-80c1-48a5-b3c6-934931******"
}
```

## 错误码

访问[错误中心](https://error-center.alibabacloud.com/status/product/CS)查看更多错误码。

