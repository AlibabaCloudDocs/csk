# 创建集群

调用CreateCluster创建Kubernetes集群。

## 调试

[您可以在OpenAPI Explorer中直接运行该接口，免去您计算签名的困扰。运行成功后，OpenAPI Explorer可以自动生成SDK代码示例。](https://api.aliyun.com/#product=CS&api=CreateCluster&type=ROA&version=2015-12-15)

## 请求头

该接口使用公共请求头，无特殊请求头。更多信息，请参见[公共请求参数](~~167755~~)。

## 请求语法

```
POST /clusters 
```

## 请求参数

|名称|类型|位置|是否必选|示例值|描述|
|--|--|--|----|---|--|
| |Object|Body|否| |请求体参数。 |
|name|String|Body|是|cluster-demo|集群名称。

 命名规则：由数字、汉字、英文字符或短划线（-）组成，长度范围1~63个字符，且不能以短划线（-）开头。 |
|region\_id|String|Body|否|cn-beijing|集群所在的地域ID。 |
|cluster\_type|String|Body|是|Kubernetes|集群类型。取值：

 -   `Kubernetes`: 专有版集群。
-   `ManagedKubernetes`：标准托管版集群、边缘托管版集群。
-   `Ask`：标准Serverless集群。
-   `ExternalKubernetes`：注册至ACK的外部集群。 |
|cluster\_spec|String|Body|否|ack.pro.small|托管版集群类型，面向托管集群。取值：

 -   `ack.pro.small`：专业托管集群，即："ACK Pro版集群"。
-   `ack.standard`：标准托管集群。

 默认值：`ack.standard`。取值可以为空，为空时则创建标准托管集群。

 更多详情，请参见[Kubernetes Pro版集群介绍](https://help.aliyun.com/document_detail/～～173290～～)。 |
|kubernetes\_version|String|Body|否|1.16.9-aliyun.1|集群版本，与Kubernetes社区基线版本保持一致。建议选择最新版本，若不指定，默认使用最新版本。

 目前您可以在ACK控制台创建两种最新版本的集群。您可以通过API创建其他Kubernetes版本集群。关于ACK支持的Kubernetes版本，请参见[Kubernetes版本发布概览](~~185269~~)。 |
|runtime|[runtime](/intl.zh-CN/API参考/通用数据结构.md)|Body|否| |集群内容器运行时，默认采用Docker，同时我们还还支持安全沙箱容器。

 更多有关容器引擎的选择，请参见[如何选择Docker运行时与安全沙箱运行时](https://help.aliyun.com/document_detail/～～160313～～)。 |
|vpcid|String|Body|是|vpc-2zeik9h3ahvv2zz95\*\*\*\*|集群使用的专有网络，创建集群时必须为集群提供。 |
|pod\_vswitch\_ids|Array of String|Body|是|vsw-2ze97jwri7cei0mpw\*\*\*\*|虚拟交换ID。 |
|container\_cidr|String|Body|是|172.20.0.0/16|Pod网络地址段，必须是有效的私有网段，即以下网段及其子网：10.0.0.0/8，172.16-31.0.0/12-16，192.168.0.0/16。不能与 VPC 及VPC 内已有 Kubernetes 集群使用的网段重复，创建成功后不能修改。

 有关集群网络规划，请参见：[VPC下 Kubernetes 的网络地址段规划](https://help.aliyun.com/document_detail/～～86500～～)。

 **说明：** 当创建Flannel网络类型的集群时，该字段为必填。 |
|service\_cidr|String|Body|是|172.21.0.0/20|Service网络地址段，可选范围：10.0.0.0/16-24，172.16-31.0.0/16-24，192.168.0.0/16-24

 不能与VPC网段10.1.0.0/21及VPC内已有Kubernetes集群使用的网段重复，创建成功后不能修改。

 默认使用172.19.0.0/20网段。 |
|security\_group\_id|String|Body|是|sg-bp1bdue0qc1g7k\*\*\*\*|使用已有安全组创建集群时需要指定安全组ID，和`is_enterprise_security_group`二选一，集群节点自动加入到此安全组。 |
|is\_enterprise\_security\_group|Boolean|Body|是|true|自动创建企业级安全组，当`security_group_id`为空的时生效。

 **说明：** 使用普通安全组时，集群内节点与 Terway Pod 数量之和不能超过 2000。所以创建Terway网络类型集群时，建议使用企业安全组。

 -   `true`：创建并使用企业级安全组。
-   `false`：不使用企业级安全组。

 默认值：`true`。 |
|snat\_entry|Boolean|Body|否|true|为专有网络配置SNAT。取值：

 -   `true`：将为您创建NAT网关并自动配置SNAT规则，若您集群内的节点、应用等需要访问公网需要设置为`true`。
-   `false`：不为您创建NAT网关及SNAT规则。这种模式下，集群内节点及应用将不能访问公网。

 **说明：** 如果创建集群时未开启，后续业务需要访问公网，可手动开启。更多信息，请参见[手动开启](~~178480~~)。

 默认值：`true`。 |
|endpoint\_public\_access|Boolean|Body|否|true|是否开启公网访问。通过EIP暴露API Server，实现集群公网访问。

 -   `true`：开启公网访问。
-   `false`：不开启公网访问。选择不开放时，则无法通过外网访问集群 API Server。

 默认值：`false`。 |
|ssh\_flags|Boolean|Body|否|true|是否开放公网SSH登录。用登录"专有版集群"的Master节点，托管版集群中该参数不生效。

 -   `true`：表示开放。
-   `false`：表示不开放。

 默认值：`false`。 |
|timezone|String|Body|否|Asia/Shanghai|集群使用的时区。 |
|node\_cidr\_mask|String|Body|否|25|节点IP数量，通过指定网络的CIDR来确定IP的数量，只对于Flannel网络类型集群生效。

 默认值：`26`。 |
|user\_ca|String|Body|否|-----BEGIN CERTIFICATE-----\*\*\*\*|自定义集群CA。 |
|user\_data|String|Body|否|IyEvdXNyL2Jpbi9iYXNoCmVjaG8gIkhlbGxvIEFD\*\*\*\*|自定义节点数据。更多详情，请参见[生成实例自定义数据](https://help.aliyun.com/document_detail/~~49121~~)。 |
|cluster\_domain|String|Body|否|cluster.local|集群本地域名。

 命名规则：域名由小数点（.）分隔的一个或多个部分构成，每个部分最长为63个字符，可以使用小写字母、数字和短划线（-），且首尾必须为小写字母或数字。 |
|node\_name\_mode|String|Body|否|aliyun.com00055test|自定义节点名称。

 节点名称由三部分组成：前缀+节点IP地址子串+后缀：

 -   前缀和后缀均可由英文句号（.）分隔的一个或多个部分构成，每个部分可以使用小写字母、数字和短划线（-），且首尾必须为小写字母和数字。
-   IP地址段长度指截取节点IP地址末尾的位数，取值范围\[5,12\]。

 例如，节点IP地址为：192.168.0.55，指定前缀为aliyun.com，IP地址段长度为5，后缀为test，则节点名称为aliyun.com00055test。 |
|custom\_san|String|Body|否|cs.aliyun.com|自定义证书SAN，多个IP或域名以英文逗号（,）分隔。 |
|encryption\_provider\_key|String|Body|否|0fe64791-55eb-4fc7-84c5-c6c7cdca\*\*\*\*|KMS密钥ID，使用该密钥对数据盘进行加密。更多详情，请参见[密钥管理服务](~~28935~~)。

 **说明：** 该功能只在专业托管版集群（ACK Pro版集群）中生效。 |
|service\_account\_issuer|String|Body|否|kubernetes.default.svc|ServiceAccount是Pod和集群`apiserver`通讯的访问凭证。而`service-account-issuer`是`serviceaccount token`中的签发身份，即`token payload`中的`iss`字段。

 关于`ServiceAccount`更多详情，请参见[部署服务账户令牌卷投影](~~160384~~)。 |
|api\_audiences|String|Body|否|kubernetes.default.svc|ServiceAccount是Pod和集群`apiserver`通讯的访问凭证，而`api-audiences`是合法的请求`token`身份，用于`apiserver`服务端认证请求`token`是否合法。支持配置多个`audienc`e，通过英文逗号（,）分割。

 关于`ServiceAccount`更多详情，请参见[部署服务账户令牌卷投影](~~160384~~)。 |
|image\_id|String|Body|否|m-bp16z7xko3vvv8gt\*\*\*\*|节点自定义镜像，默认使用系统镜像。当选择自定义镜像时，将取代默认系统镜像。请参见[自定义镜像](~~146647~~)。 |
|rds\_instances|Array of String|Body|否|rm-2zev748xi27xc\*\*\*\*|RDS实例名称。 |
|tags|Array of [tag](/intl.zh-CN/API参考/通用数据结构.md)|Body|否| |节点标签。标签定义规则：

 -   标签由区分大小写的键值对组成，您最多可以设置20个标签。
-   标签键不可以重复，最长为64个字符；标签值可以为空，最长为128个字符。标签键和标签值都不能以“aliyun”、“acs:”、“https://”或“http://”开头。详情请参见[Labels and Selectors](https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set)。 |
|addons|Array of [addon](/intl.zh-CN/API参考/通用数据结构.md)|Body|否| |集群组件列表，创建集群时通过`addons`指定想要安装的集群组件。 |
|taints|Array of [taint](/intl.zh-CN/API参考/通用数据结构.md)|Body|否| |节点污点信息。污点和容忍度（Toleration）相互配合，可以用来避免Pod被分配到不合适的节点上。更多信息，请参见[taint-and-toleration](https://kubernetes.io/zh/docs/concepts/scheduling-eviction/taint-and-toleration/)。 |
|cloud\_monitor\_flags|Boolean|Body|否|true|集群是否安装云监控插件。取值：

 -   `true`：安装云监控插件。
-   `false`：不安装云监控插件。

 默认值：`false`。 |
|platform|String|Body|否|CentOS|操作系统发行版。取值：

 -   CentOS
-   AliyunLinux
-   QbootAliyunLinux
-   Qboot
-   Windows
-   WindowsCore

 默认值：`AliyunLinux`。 |
|os\_type|String|Body|否|Linux|操作系统平台类型。取值：

 -   Windows
-   Linux

 默认值：`Linux`。 |
|cpu\_policy|String|Body|否|none|节点CPU管理策略。当集群版本在1.12.6及以上时支持以下两种策略：

 -   `static`：允许为节点上具有某些资源特征Pod增强其CPU亲和性和独占性。
-   `none`：表示启用现有的默认CPU亲和性方案。

 默认值：`none`。 |
|proxy\_mode|String|Body|否|ipvs|kube-proxy代理模式

 -   `iptables`: 成熟稳定的 kube-proxy 代理模式，Kubernetes Service 的服务发现和负载均衡使用 iptables 规则配置，但是性能一般，受规模影响较大，适用于集群存在少量的service。
-   `ipvs`：高性能的 kube-proxy 代理模式，Kubernetes Service 的服务发现和负载均衡使用 Linux IPVS 模块进行配置，适用于集群存在大量的 service，对负载均衡有高性能要求的场景。

 默认值：`ipvs`。 |
|node\_port\_range|String|Body|否|30000~32767|节点服务端口，可选端口范围：\[30000,65535\]。

 默认值：`30000-32767`。 |
|key\_pair|String|Body|是|secrity-key|密钥对名称，和`login_password`二选一。 |
|login\_password|String|Body|是|Hello@1234|SSH登录密码，和`key_pair`二选一。密码规则为8~30个字符，且至少同时包含三项（大小写字母、数字和特殊符号）。 |
|master\_count|Long|Body|是|3|Master节点数量，可选值`3`或`5`。

 默认值：`3`。 |
|master\_vswitch\_ids|Array of String|Body|是|vsw-2ze3ds0mdip0hdz8i\*\*\*\*|虚拟交换ID。 |
|master\_instance\_types|Array of String|Body|是|ecs.n4.xlarge|Master节点实例类型。 |
|master\_system\_disk\_category|String|Body|是|cloud\_ssd|Master节点系统盘类型，取值：

 -   `cloud_efficiency`：高效云盘。
-   `cloud_ssd`：SSD云盘。
-   `cloud_essd`：ESSD云盘。

 默认值：`cloud_ssd`。不同可用区，默认值可能会有所差异。 |
|master\_system\_disk\_size|Long|Body|是|120|Master节点系统盘类型，取值范围\[40,500\]，单位：GiB。

 默认值：`40`。 |
|master\_system\_disk\_snapshot\_policy\_id|String|Body|否|sp-2zej1nogjvovnz4z\*\*\*\*|Master节点系统盘采用的自动快照策略ID。 |
|master\_instance\_charge\_type|String|Body|是|PrePaid|Master节点付费类型，取值：

 -   `PrePaid`：包年包月。
-   `PostPaid`：按量付费。

 默认值：`PostPaid`。 |
|master\_period\_unit|String|Body|否|Month|Master节点付费周期，当付费类型为`PrePaid`的时候必须指定周期。

 取值：`Month`，当前仅支持以月为周期。 |
|master\_period|Long|Body|否|1|Master节点包年包月时长，当`master_instance_charge_type`取值为`PrePaid`时才生效且为必选值。

 取值范围：\{1, 2, 3, 6, 12, 24, 36, 48, 60\}。

 默认值：1。 |
|master\_auto\_renew|Boolean|Body|否|true|Master节点是否开启自动续费，当`master_instance_charge_type`取值为`PrePaid`时才生效，可选值为：

 -   `true`：自动续费。
-   `false`：不自动续费。

 默认值：`true`。 |
|master\_auto\_renew\_period|Long|Body|否|1|Master节点自动续费周期，当选择包年包月付费类型时才生效，且为必选值。

 取值范围：\{1, 2, 3, 6, 12\}。

 默认值：1。 |
|num\_of\_nodes|Long|Body|是|3|Worker节点数。范围是\[0，100\]。 |
|worker\_vswitch\_ids|Array of String|Body|是|vsw-2ze3ds0mdip0hdz8i\*\*\*\*|虚拟交换机ID列表，取值范围：\[1,20\]。为保证高可用性，建议选择不同可用区的虚拟交换机。 |
|worker\_instance\_types|Array of String|Body|是|ecs.n4.large|Worker节点实例规格，至少要指定一个实例规格。更多信息，请参见[实例规格族](~~25378~~)。

 **说明：** 实例规格优先级随着在数据中的位置增大依次降低。当无法根据优先级较高的实例规格创建出实例时，会自动选择下一优先级的实例规格来创建实例。 |
|worker\_system\_disk\_category|String|Body|是|cloud\_efficiency|Worker节点系统盘类型，取值：

 -   `cloud_efficiency`：高效云盘。
-   `cloud_ssd`：SSD云盘。

 默认值：`cloud_ssd`。 |
|worker\_system\_disk\_size|Long|Body|是|120|Worker节点系统盘大小，单位为GiB。

 取值范围：\[20,500\]。

 该参数的取值必须大于或者等于max\{20, ImageSize\}。

 默认值：max\{40, 参数ImageId对应的镜像大小\}。 |
|worker\_system\_disk\_snapshot\_policy\_id|String|Body|否|sp-2zej1nogjvovnz4z\*\*\*\*|Worker节点系统盘采用的自动快照策略ID。 |
|worker\_data\_disks|Array of [data\_disk](/intl.zh-CN/API参考/通用数据结构.md)|Body|否| |Worker节点数据盘类型、大小等配置的组合。 |
|worker\_instance\_charge\_type|String|Body|是|PrePaid|Worker节点付费类型，取值：

 -   `PrePaid`：包年包月。
-   `PostPaid`：按量付费。

 默认值：按量付费。 |
|worker\_period\_unit|String|Body|否|Month|Wroker节点付费周期，当付费类型为`PrePaid`的时候需要指定周期。

 取值：`Month`，当前只支持以月为周期。 |
|worker\_period|Long|Body|否|1|Worker节点包年包月时长，当`worker_instance_charge_type`取值为`PrePaid`时才生效且为必选值。

 取值范围：\{1, 2, 3, 6, 12, 24, 36, 48, 60\}。

 默认值：1。 |
|worker\_auto\_renew|Boolean|Body|否|true|Worker节点是否开启自动续费，当`worker_instance_charge_type`取值为`PrePaid`时才生效，取值：

 -   `true`：自动续费。
-   `false`：不自动续费。

 默认值：`true`。 |
|worker\_auto\_renew\_period|Long|Body|否|1|Worker节点自动续费周期，当选择包年包月付费类型时才生效，且为必选值。

 取值范围：\{1, 2, 3, 6, 12\}。 |
|instances|Array of String|Body|否|i-2ze4zxnm36vq00xn\*\*\*\*|实例名称。 |
|format\_disk|Boolean|Body|否|false|使用已有实例创建集群时，是否对实例进行数据盘挂载，取值：

 -   `true`：将容器和镜像存储在数据盘，数据盘内原有数据将丢失，请注意备份数据。
-   `false`：不将容器和镜像存储在数据盘。

 默认值：`false`。

 数据盘挂载规则：

 -   如果 ECS 已挂载数据盘，且最后一块数据盘的文件系统未初始化，系统会自动将该数据盘格式化为 ext4，用来存放内容/var/lib/docker、/var/lib/kubelet 。
-   如果 ECS 未挂载数据盘，则不会挂载新的数据盘。 |
|keep\_instance\_name|Boolean|Body|否|true|使用已有实例创建集群时，是否保留实例名称。

 -   `true`：保留。
-   `false`：不保留，会用系统规则进行替换。

 默认值：`true`。 |
|service\_discovery\_types|Array of String|Body|否|PrivateZone|集群内服务发现类型，用于在`ASK`集群中指定服务发现方式。

 -   `CoreDNS`：使用Kubernetes原生标准服务发现组件CoreDNS，需要在集群部署一组容器用于DNS解析。默认采用两个0.25 Core 512 MiB规格的ECI实例。
-   `PrivateZone`：使用阿里云PrivateZone产品提供服务发现能力，需要开启PrivateZone服务。

 默认值：不开启。 |
|nat\_gateway|Boolean|Body|否|true|为专有网络配置SNAT。取值：

 -   `true`：将为您创建NAT网关并自动配置SNAT规则，若您集群内的节点、应用等需要访问公网需要设置为`true`。
-   `false`：不为您创建NAT网关及SNAT规则。这种模式下，集群内节点及应用将不能访问公网。

 **说明：** 如果创建集群时未开启，后续业务需要访问公网，可手动开启。更多信息，请参见[手动开启](~~178480~~)。

 默认值：`true`。 |
|zone\_id|String|Body|否|cn-beiji\*\*\*\*|集群所属地域的可用区ID。 |
|profile|String|Body|否|Default|边缘集群标识，当创建集群类型为边缘托管版时，该参数必填。

 -   `Default`：非边缘集群。
-   `Edge`：边缘集群。 |
|deletion\_protection|Boolean|Body|否|true|集群删除保护，防止通过控制台或API误删除集群。取值：

 -   `true`：启用集群删除保护，将不能通过控制台或API删除集群。
-   `false`：不启用集群删除保护，则能通过控制台或API删除集群。

 默认值：`false`。 |
|disable\_rollback|Boolean|Body|否|true|集群创建失败是否回滚。取值：

 -   `true`：当集群创建失败时，进行回滚操作。
-   `false`：当集群创建失败时，不进行回滚操作。

 默认值：`true`。 |
|timeout\_mins|Long|Body|否|60|集群创建超时时间，单位分钟。

 默认值：`60`。 |

## 返回数据

|名称|类型|示例值|描述|
|--|--|---|--|
|cluster\_id|String|cb95aa626a47740afbf6aa099b650\*\*\*\*|集群ID。 |
|request\_id|String|687C5BAA-D103-4993-884B-C35E4314A1E1|请求ID。 |
|task\_id|String|T-5a54309c80282e39ea00002f|任务ID。 |

## 示例

请求示例

```
POST /clusters
{
    "cluster_type":"Kubernetes",
    "name":"包年包月型ACK专有版集群",
    "region_id":"cn-beijing",
    "disable_rollback":true,
    "timeout_mins":60,
    "kubernetes_version":"1.18.8-aliyun.1",
    "snat_entry":true,
    "endpoint_public_access":true,
    "ssh_flags":true,
    "cloud_monitor_flags":true,
    "deletion_protection":false,
    "node_cidr_mask":"26",
    "proxy_mode":"ipvs",
    "timezone":"Asia/Shanghai",
    "tags":[
        {
            "key":"env",
            "value":"prod"
        }
    ],
    "is_enterprise_security_group":true,
    "container_cidr":"172.20.0.0/16",
    "service_cidr":"172.21.0.0/20",
    "vpcid":"vpc-2zecuu62b9zw7a7qn****",
    "os_type":"Linux",
    "platform":"AliyunLinux",
    "user_data":"IyEvdXNyL2Jpbi9iYXNoCmVjaG8gIkhlbGxvIEFDSyEi",
    "node_port_range":"30000-32767",
    "login_password":"Hello1234",
    "cpu_policy":"none",
    "runtime":{
        "name":"docker",
        "version":"19.03.5"
    },
    "master_count":3,
    "master_instance_charge_type":"PrePaid",
    "master_period":1,
    "master_period_unit":"Month",
    "master_auto_renew":true,
    "master_auto_renew_period":1,
    "master_vswitch_ids":[
        "vsw-2zete8s4qocqg0mf6****",
        "vsw-2zete8s4qocqg0mf6****",
        "vsw-2zete8s4qocqg0mf6****"
    ],
    "master_instance_types":[
        "ecs.n4.large",
        "ecs.n4.large",
        "ecs.n4.large"
    ],
    "master_system_disk_category":"cloud_ssd",
    "master_system_disk_size":120,
    "master_system_disk_performance_level":"",
    "num_of_nodes":2,
    "worker_instance_charge_type":"PrePaid",
    "worker_period":1,
    "worker_period_unit":"Month",
    "worker_auto_renew":true,
    "worker_auto_renew_period":1,
    "worker_instance_types":[
        "ecs.c6.large"
    ],
    "worker_system_disk_category":"cloud_ssd",
    "worker_system_disk_size":120,
    "worker_system_disk_performance_level":"",
    "worker_vswitch_ids":[
        "vsw-2zete8s4qocqg0mf6****"
    ],
    "addons":[
        {
            "name":"flannel"
        },
        {
            "name":"arms-prometheus"
        },
        {
            "name":"csi-plugin"
        },
        {
            "name":"csi-provisioner"
        },
        {
            "name":"logtail-ds",
            "config":"{"IngressDashboardEnabled":"true"}"
        },
        {
            "name":"ack-node-problem-detector",
            "config":"{"sls_project_name":""}"
        },
        {
            "name":"nginx-ingress-controller",
            "config":"{"IngressSlbNetworkType":"internet"}"
        }
    ]
}
```

请求示例补充说明

```
创建Terway网络类型的ACK专有版集群。
```
{
    "cluster_type":"Kubernetes",
    "name":"Terway网络类型ACK专有版集群",
    "region_id":"cn-zhangjiakou",
    "disable_rollback":true,
    "timeout_mins":60,
    "kubernetes_version":"1.18.8-aliyun.1",
    "snat_entry":true,
    "endpoint_public_access":true,
    "ssh_flags":true,
    "cloud_monitor_flags":true,
    "deletion_protection":false,
    "proxy_mode":"ipvs",
    "timezone":"Asia/Shanghai",
    "tags":[

    ],
    "is_enterprise_security_group":true,
    "os_type":"Linux",
    "platform":"AliyunLinux",
    "node_port_range":"30000-32767",
    "service_cidr":"172.21.0.0/20",
    "vpcid":"vpc-8vbh3b9a2f38urhls****",
    "pod_vswitch_ids":[
        "vsw-8vbo5fwyqiw0bbtlq****"
    ],
    "login_password":"Hello1234",
    "cpu_policy":"none",
    "runtime":{
        "name":"docker",
        "version":"19.03.5"
    },
    "master_count":3,
    "master_vswitch_ids":[
        "vsw-8vbmoffowsztjaawj****",
        "vsw-8vbmoffowsztjaawj****",
        "vsw-8vbmoffowsztjaawj****"
    ],
    "master_instance_types":[
        "ecs.r6.26xlarge",
        "ecs.r6.26xlarge",
        "ecs.r6.26xlarge"
    ],
    "master_system_disk_category":"cloud_essd",
    "master_system_disk_size":120,
    "master_system_disk_performance_level":"PL1",
    "worker_instance_types":[
        "ecs.r6.26xlarge"
    ],
    "num_of_nodes":2,
    "worker_system_disk_category":"cloud_essd",
    "worker_system_disk_size":120,
    "worker_system_disk_performance_level":"PL1",
    "worker_vswitch_ids":[
        "vsw-8vbmoffowsztjaawj****"
    ],
    "addons":[
        {
            "name":"terway-eni"
        },
        {
            "name":"arms-prometheus"
        },
        {
            "name":"csi-plugin"
        },
        {
            "name":"csi-provisioner"
        },
        {
            "name":"logtail-ds",
            "config":"{\"IngressDashboardEnabled\":\"true\"}"
        },
        {
            "name":"ack-node-problem-detector",
            "config":"{\"sls_project_name\":\"\"}"
        },
        {
            "name":"nginx-ingress-controller",
            "config":"{\"IngressSlbNetworkType\":\"internet\"}"
        }
    ]
}
```

创建ACK托管版集群。
```
{
    "name":"ACK-Pro托管版集群",
    "cluster_type":"ManagedKubernetes",
    "disable_rollback":true,
    "timeout_mins":60,
    "kubernetes_version":"1.18.8-aliyun.1",
    "region_id":"cn-zhangjiakou",
    "snat_entry":true,
    "cloud_monitor_flags":true,
    "endpoint_public_access":true,
    "deletion_protection":false,
    "node_cidr_mask":"26",
    "proxy_mode":"ipvs",
    "timezone":"Asia/Shanghai",
    "cluster_spec":"ack.pro.small",
    "container_cidr":"172.20.0.0/16",
    "service_cidr":"172.21.0.0/20",
    "vpcid":"vpc-8vbh3b9a2f38urhls****",
    "vswitch_ids":[
        "vsw-8vbmoffowsztjaawj****"
    ],
    "os_type":"Linux",
    "platform":"AliyunLinux",
    "login_password":"Hello1234",
    "cpu_policy":"none",
    "is_enterprise_security_group":true,
    "runtime":{
        "name":"docker",
        "version":"19.03.5"
    },
    "num_of_nodes":2,
    "worker_instance_types":[
        "ecs.c5.large"
    ],
    "worker_system_disk_category":"cloud_essd",
    "worker_system_disk_size":120,
    "worker_system_disk_performance_level":"PL1",
    "worker_instance_charge_type":"PostPaid",
    "tags":[

    ],
    "addons":[
        {
            "name":"flannel"
        },
        {
            "name":"csi-plugin"
        },
        {
            "name":"csi-provisioner"
        },
        {
            "name":"logtail-ds",
            "config":"{\"IngressDashboardEnabled\":\"true\"}"
        },
        {
            "name":"ack-node-problem-detector",
            "config":"{\"sls_project_name\":\"\"}"
        },
        {
            "name":"nginx-ingress-controller",
            "config":"{\"IngressSlbNetworkType\":\"internet\"}"
        },
        {
            "name":"arms-prometheus"
        }
    ]
}
```
创建Serverless集群
```
{
    "name":"ASK集群",
    "cluster_type":"Ask",
    "kubernetes_version":"1.18.8-aliyun.1",
    "region_id":"cn-zhangjiakou",
    "endpoint_public_access":true,
    "service_discovery_types":[
        "PrivateZone"
    ],
    "nat_gateway":true,
    "deletion_protection":false,
    "service_cidr":"172.21.0.0/20",
    "timezone":"Asia/Shanghai",
    "zone_id":"cn-zhangjiakou-b",
    "tags":[
        {
            "key":"type",
            "value":"ask"
        }
    ],
    "addons":[
        {
            "name":"nginx-ingress-controller",
            "config":"{\"IngressSlbNetworkType\":\"internet\"}"
        },
        {
            "name":"metrics-server"
        },
        {
            "name":"logtail-ds"
        },
        {
            "name":"knative"
        }
    ]
}
```
创建边缘托管版集群
```
{
    "name":"ACK边缘托管版集群",
    "cluster_type":"ManagedKubernetes",
    "disable_rollback":true,
    "timeout_mins":60,
    "kubernetes_version":"1.14.8-aliyunedge.1",
    "region_id":"cn-zhangjiakou",
    "snat_entry":true,
    "cloud_monitor_flags":true,
    "endpoint_public_access":true,
    "deletion_protection":false,
    "node_cidr_mask":"26",
    "profile":"Edge",
    "login_password":"Hello1234",
    "is_enterprise_security_group":true,
    "worker_instance_types":[
        "ecs.c6.large"
    ],
    "num_of_nodes":1,
    "worker_system_disk_category":"cloud_efficiency",
    "worker_system_disk_size":40,
    "worker_system_disk_performance_level":"",
    "worker_instance_charge_type":"PostPaid",
    "vpcid":"vpc-8vbh3b9a2f38urhls****",
    "vswitch_ids":[
        "vsw-8vbmoffowsztjaawj****"
    ],
    "container_cidr":"172.20.0.0/16",
    "service_cidr":"172.21.0.0/20",
    "tags":[

    ],
    "addons":[
        {
            "name":"logtail-ds-docker"
        },
        {
            "name":"alibaba-log-controller",
            "config":"{\"IngressDashboardEnabled\":\"false\"}"
        },
        {
            "name":"flannel"
        },
        {
            "name":"alicloud-monitor-controller"
        }
    ]
}
```
```

正常返回示例

`XML` 格式

```
<cluster_id>cb95aa626a47740afbf6aa099b650****</cluster_id>
<task_id>T-5a54309c80282e39ea00002f</task_id>
<request_id>687C5BAA-D103-4993-884B-C35E4314A1E1</request_id>
```

`JSON` 格式

```
{
    "cluster_id": "cb95aa626a47740afbf6aa099b650****",
    "task_id": "T-5a54309c80282e39ea00002f",
    "request_id": "687C5BAA-D103-4993-884B-C35E4314A1E1"
}
```

## 错误码

访问[错误中心](https://error-center.alibabacloud.com/status/product/CS)查看更多错误码。

