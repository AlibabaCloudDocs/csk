# 扩容安全沙箱容器集群

调用ScaleOutCluster增加安全沙箱容器集群中Worker节点的数量（支持多可用区实例）。

## 调试

[您可以在OpenAPI Explorer中直接运行该接口，免去您计算签名的困扰。运行成功后，OpenAPI Explorer可以自动生成SDK代码示例。](https://api.aliyun.com/#product=CS&api=CreateCluster&type=ROA&version=2015-12-15)

## 请求语法

```
POST /api/v2/clusters/ClusterId HTTP/1.1
Content-Type:application/json
{
  "count" : Long,
  "login_password": "String",
  "key_pair" : "String",
  "vswitch_ids" : "[ String ]",
  "worker_data_disk": Boolean,
  "worker_data_disk_size": Long,
  "worker_instance_types": "[ String ]",
  "worker_data_disk_category" : "String",
  "worker_system_disk_category" : "String",
  "worker_system_disk_size": Long
} 
```

## 请求参数

|参数名称|类型|是否必选|示例|说明|
|----|--|----|--|--|
|ClusterId|String|是|Cccfd68c474454665ace07efce924\*\*\*\*|集群ID。 |

|名称|类型|是否必选|示例值|描述|
|--|--|----|---|--|
|count|Long|是|1|扩容节点的数量。|
|login\_password|String|是|Hello@12\*\*\*\*|SSH登录密码，和`key_pair`二选一。密码规则为8~30个字符，且至少同时包含三项（大小写字母、数字和特殊符号）。|
|key\_pair|String|是|secrity-key|密钥对名称，和`login_password`二选一。|
|vswitch\_ids|Array of String|是|vsw-2ze48rkq464rsdts1\*\*\*\*"|Worker节点的交换机ID。|
|worker\_data\_disk|Boolean|是|true|是否挂载数据盘。取值：-   `true`：表示Worker节点挂载数据盘。
-   `false`：表示Worker节点不挂载数据盘。

 在安全沙箱容器场景下，必须选择`true` 。|
|worker\_data\_disk\_size|String|是|200|数据盘大小，单位为GiB。**说明：** 安全沙箱容器场景下，参数值必须大于200。 |
|worker\_instance\_types|Array of String|是|ecs.ebmg5s.24xlarge|安全沙箱容器实例规格。目前支持：-   ecs.ebmg5s.24xlarge
-   ecs.ebmc5s.24xlarge\*
-   ecs.ebmgn6i.24xlarge |
|worker\_data\_disk\_category|String|否|cloud\_efficiency|Worker节点数据盘类型，取值：-   `cloud_efficiency`：高效云盘。
-   `cloud_ssd`：SSD云盘。
-   `cloud`：普通云盘。

默认值：`cloud_efficiency`。|
|worker\_system\_disk\_category|String|否|cloud\_efficiency|Worker节点系统盘类型，取值：-   `cloud_efficiency`：高效云盘。
-   `cloud_ssd`：SSD云盘。

默认值：`cloud_ssd`。 |
|worker\_system\_disk\_size|Long|否|120|Worker节点系统盘大小，单位为GiB。取值范围：\[20,500\]。该参数的取值必须大于或者等于max\{20, ImageSize\}。

默认值：max\{40, 参数ImageId对应的镜像大小\}。 |

## 响应体语法

```
HTTP/1.1 200
Content-Type:application/json
{
  "cluster_id" : "String",
  "request_id" : "String",
  "task_id" : "String"
}
```

## 响应参数

|名称|类型|示例值|描述|
|--|--|---|--|
|cluster\_id|String|Cccfd68c474454665ace07efce924\*\*\*\*|集群ID。|
|request\_id|String|687C5BAA-D103-4993-884B-C35E4314A1E1|请求ID。|
|task\_id|String|T-5a54309c80282e39ea00002f|任务ID。|

## 扩容安全沙箱容器集群示例

请求示例

```
POST /api/v2/clusters/Cccfd68c474454665ace07efce924**** 
<公共请求头>
{
    "login_password":"Hello@12****",
    "worker_instance_charge_type":"PostPaid",
    "vswitch_ids":["vsw-2zes3rfz7bmk0nxxxxxxx"],
    "worker_instance_types":["ecs.ebmg5s.24xlarge"],
    "worker_system_disk_category":"cloud_efficiency",
    "worker_system_disk_size":120,
    "worker_data_disk":true,
    "worker_data_disk_category":"cloud_efficiency",
    "worker_data_disk_size":200,
    "tags":[],
    "count":1,
    "disable_rollback":false
}
```

返回示例

```
HTTP/1.1 202 Accepted
<公共响应头>
{
    "cluster_id": "Cccfd68c474454665ace07efce924****",
    "request_id": "687C5BAA-D103-4993-884B-C35E4314A1E1",
    "task_id": "T-5a54309c80282e39ea00002f"
}
```

## 错误码

访问[错误中心](https://error-center.aliyun.com/status/product/CS)查看更多错误码。

## 开发者资源

-   [SDK](https://next.api.aliyun.com/api-tools/sdk/CS?version=2015-12-15&)

    阿里云为您提供多种语言的SDK，帮助您快速通过API集成阿里云的产品和服务，推荐您使用SDK调用API，已免除您手动签名验证，详情请参见SDK参考文档链接。

-   [OpenAPI Explorer](https://next.api.aliyun.com/api/CS/2015-12-15/ScaleOutCluster)

    快速检索，可视化调试API，在线命令行工具，同步动态生成可执行的SDK代码示例。

-   [阿里云CLI](https://github.com/aliyun/aliyun-cli)

    阿里云资产管理和配置工具，可通过命令方式同时管理多个阿里云产品和服务，简单快捷，是您上云好帮手。


